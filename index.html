<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>autotoum by jubianchi</title>
  </head>

  <body>
    <header>
      <div class="inner">
      	<div style="float: left; margin-right: 25px"><img src="http://downloads.atoum.org/images/logo.png" alt="Alt text"></div>
        <h1>autotoum</h1>
        <h2>atoum auto-loop mode</h2>
        <a href="https://github.com/jubianchi/autotoum" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
<h1>autotoum</h1>

<iframe width="940" height="705" src="http://www.youtube.com/embed/Rwp91TwkmsE" frameborder="0" allowfullscreen></iframe>

<h2>Install on Ubuntu</h2>

<div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install inotify-tools
<span class="nv">$ </span>sudo wget -O /usr/local/bin/autotoum https://gist.github.com/jubianchi/4731236/raw/autotoum.sh
<span class="nv">$ </span>sudo chmo +x /usr/local/bin/autotoum
</pre></div>

<h2>Install on OSX</h2>

<div class="highlight"><pre><span class="nv">$ </span>sudo gem install kicker
<span class="nv">$ </span>sudo wget -O /usr/local/bin/autotoum https://gist.github.com/jubianchi/4731236/raw/autotoum-osx.sh
<span class="nv">$ </span>sudo chmo +x /usr/local/bin/autotoum
</pre></div>

<p><strong>Note: The OSX version should work on any platform supporting ruby.</strong></p>

<h2>How to use</h2>

<p><strong>To make <code>autotoum</code> work properly, you will have to configure atoum so that it can be used with <a href="http://docs.atoum.org/fr/chapter3.html#test-all"><code>--test-all</code>option</a></strong></p>

<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> /path/to/project
<span class="nv">$ </span>autotoum bin/atoum tests/units,src

<span class="c"># Use CTRL+C to exit loop</span>
</pre></div>

<h3>Using notifications (experimental)</h3>

<p>I wrote a set of notifiers which you can find in <a href="https://github.com/jubianchi/atoum/tree/notifiers">jubianchi/atoum@notifiers</a>:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">//.atoum.php</span>

<span class="k">use</span> <span class="nx">\mageekguy\atoum</span><span class="p">;</span>

<span class="nv">$script</span><span class="o">-&gt;</span><span class="na">addDefaultReport</span><span class="p">()</span>
    <span class="c1">// Growl notifier : uses growlnotify command</span>
    <span class="o">-&gt;</span><span class="na">addField</span><span class="p">(</span><span class="k">new</span> <span class="nx">atoum\report\fields\runner\result\notifier\growl</span><span class="p">())</span>
    <span class="c1">// OS X Notification Center notifier : uses terminal-notifier gem</span>
    <span class="o">-&gt;</span><span class="na">addField</span><span class="p">(</span><span class="k">new</span> <span class="nx">atoum\report\fields\runner\result\notifier\terminal</span><span class="p">())</span>
    <span class="c1">// libnotify notifier : uses notify-send from libnotify</span>
    <span class="o">-&gt;</span><span class="na">addField</span><span class="p">(</span><span class="k">new</span> <span class="nx">atoum\report\fields\runner\result\notifier\libnotify</span><span class="p">())</span>
<span class="p">;</span>
</pre></div>

<p>Now you only have to start autotoum in a detached process:</p>

<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> /path/to/project
<span class="nv">$ </span>autotoum -q bin/atoum tests/units,src &amp;

<span class="c"># Kill the loop</span>
<span class="nv">$ </span><span class="nb">fg</span>
<span class="nv">$ </span>^C
</pre></div>
        </section>        
      </div>
    </div>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10349389-8']);
  _gaq.push(['_setDomainName', 'jubianchi.fr']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>