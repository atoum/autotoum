<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>autotoum by jubianchi</title>
  </head>

  <body>
    <header>
      <div class="inner">
      	<div style="float: left; margin-right: 25px"><img src="http://downloads.atoum.org/images/logo.png" alt="Alt text"></div>
        <h1>autotoum</h1>
        <h2>atoum auto-loop mode</h2>
        <a href="https://github.com/jubianchi/autotoum" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
<h1>autotoum</h1>

<iframe width="940" height="705" src="http://www.youtube.com/embed/Rwp91TwkmsE" frameborder="0" allowfullscreen></iframe>

<h2>Installation</h2>

<div class="highlight"><pre><span class="nv">$ </span>gem install kicker
<span class="nv">$ </span>sudo wget -O /usr/local/bin/autotoum https://gist.github.com/jubianchi/4731236/raw/autotoum-osx.sh
<span class="nv">$ </span>sudo chmod +x /usr/local/bin/autotoum
</pre></div>

<h2>How to use</h2>

<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> /path/to/project
<span class="nv">$ </span>autotoum -b bin/atoum -w tests/units,src -- -d tests/unit

<span class="c"># Use CTRL+C to exit loop</span>
</pre></div>

<h3>Using notifications (experimental)</h3>

<p>A pull request has been submitted to add support for notifications : <a href="https://github.com/atoum/atoum/pull/170">atoum/atoum#170</a></p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">mageekguy\atoum</span><span class="p">;</span>

<span class="nv">$report</span> <span class="o">=</span> <span class="nv">$script</span><span class="o">-&gt;</span><span class="na">addDefaultReport</span><span class="p">();</span>

<span class="nv">$notifier</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">atoum\report\fields\runner\result\notifier\image\libnotify</span><span class="p">();</span>
<span class="c">// $notifier = new atoum\report\fields\runner\result\notifier\image\growl();</span>
<span class="c">// $notifier = new atoum\report\fields\runner\result\notifier\terminal();</span>

<span class="nv">$notifier</span>
    <span class="o">-&gt;</span><span class="na">setSuccessImage</span><span class="p">(</span>'/path/to/atoum/resources/images/logo/success.png'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">setFailureImage</span><span class="p">(</span>'/path/to/atoum/resources/images/logo/failure.png'</span><span class="p">)</span>
<span class="p">;</span>

<span class="nv">$report</span>
    <span class="o">-&gt;</span><span class="na">addField</span><span class="p">(</span><span class="nv">$notifier</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addField</span><span class="p">(</span><span class="k">new</span> <span class="nx">atoum\report\fields\runner\atoum\logo</span><span class="p">())</span>
<span class="p">;</span>
</pre></div>

<p>Now you only have to start autotoum in a detached process:</p>

<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> /path/to/project
<span class="nv">$ </span>autotoum -q bin/atoum tests/units,src &amp;

<span class="c"># Kill the loop</span>
<span class="nv">$ </span><span class="nb">fg</span>
<span class="nv">$ </span>^C
</pre></div>
        </section>        
      </div>
    </div>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10349389-8']);
  _gaq.push(['_setDomainName', 'jubianchi.fr']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
